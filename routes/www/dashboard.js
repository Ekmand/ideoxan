/* ---------------------------------------------------------------------------------------------- */
/*                                             MODULES                                            */
/* ---------------------------------------------------------------------------------------------- */
/* ------------------------------------------ Utilities ----------------------------------------- */
const render                    = require(serverConfig.paths.utilities + '/render')
const HTTPError                 = require(serverConfig.paths.utilities + '/HTTPError')



/* ---------------------------------------------------------------------------------------------- */
/*                                         INITIALIZATION                                         */
/* ---------------------------------------------------------------------------------------------- */
/* ------------------------------------------ Endpoint ------------------------------------------ */
exports.route = 'app/:section'


/* ---------------------------------------------------------------------------------------------- */
/*                                           CONTROLLER                                           */
/* ---------------------------------------------------------------------------------------------- */
exports.get = (req, res, next) => {
    if (req.isAuthenticated()) {
        return render('dashboard')(req, res, next)
    } else {
        let serverError = new HTTPError(req, res, HTTPError.constants.HTTP_ERROR_CODES['404'])
        return serverError.render()
    }
}